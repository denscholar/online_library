{% extends 'base_profile.html' %} {% load static %}

{% block content %}
{% include 'partials/profile_header.html' %}

<!-- list of books -->
 <div class="container mt-4">
  <h3 class="text-left mb-4">Books Uploaded</h3>
  <div class="row">
    {% for book in books %}
    <div class="col-md-4 col-lg-3 mb-4">
      <div class="card shadow-sm h-100" style="border-radius: 12px;">
        {% if book.conver_page_image %}
        <img src="{{ book.conver_page_image.url }}" class="card-img-top" alt="{{ book.title }}" style="height: 200px; object-fit: cover; border-radius: 12px 12px 0 0;">
        {% else %}
        <img src="https://via.placeholder.com/200x200?text=No+Cover" class="card-img-top" alt="No cover" style="height: 200px; object-fit: cover; border-radius: 12px 12px 0 0;">
        {% endif %}
        <div class="card-body">
          <h5 class="card-title text-truncate">{{ book.title }}</h5>
          <p class="card-text mb-1"><strong>Author(s):</strong> {{ book.author }}</p>
        </div>
        <div class="card-footer text-center bg-white border-0">
          <a href="{% url 'accounts:update-book' book.isbn %}" class="btn btn-sm btn-outline-primary">Update Book</a>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-center">No books uploaded yet.</p>
    {% endfor %}
  </div>
</div>

{% endblock %}